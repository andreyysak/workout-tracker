@use "../common/variables" as v;
@use "../common/mixins" as mix;
@use "../common/typography" as typo;

.menu {
  position: fixed;
  top: 0;
  left: 0;
  width: 280px;
  height: 100vh;
  z-index: 100;
  display: flex;
  flex-direction: column;

  padding: v.$mobile-padding;

  background-color: v.$surface-light;
  border-right: 1px solid v.$border-light;
  box-shadow: v.$shadow-dark;

  transition: transform v.$transition-base;

  body.dark-mode & {
    background-color: v.$surface-dark;
    border-right: 1px solid v.$border-dark;
  }

  &--hidden {
    transform: translateX(-100%);
  }

  &--visible {
    transform: translateX(0);
  }

  &--entering, &--leaving {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  &-nav {
    margin-top: 24px;

    &__list {
      @include mix.flex-column(8px);
    }

    &__list-item {
      &-link {
        @include mix.flex-center;
        justify-content: flex-start;
        padding: 12px 16px;
        border-radius: v.$border-radius-md;
        @include typo.body-text;
        font-weight: v.$font-weight-medium;
        color: v.$text-main-light;
        transition: v.$transition-base;

        &:hover {
          background-color: rgba(v.$accent-light, 0.1);
          color: v.$accent-light;
        }

        &--active {
          background-color: v.$accent-light;
          color: v.$accent-contrast-light;

          &:hover {
            background-color: v.$accent-hover-light;
            color: v.$accent-contrast-light;
          }
        }

        body.dark-mode & {
          color: v.$text-main-dark;

          &:hover {
            background-color: rgba(v.$accent-dark, 0.1);
            color: v.$accent-dark;
          }

          &--active {
            background-color: v.$accent-dark;
            color: v.$accent-contrast-dark;
          }
        }
      }
    }

    &__icon {
      margin-right: 12px;
      font-size: 1.25rem;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 24px;
    }
  }

  &__footer {
    margin-top: auto;
    padding-top: 16px;
    border-top: 1px solid v.$border-light;

    body.dark-mode & {
      border-top-color: v.$border-dark;
    }
  }

  &__theme-btn {
    @include mix.flex-center;
    justify-content: flex-start;
    width: 100%;
    padding: 12px 16px;
    gap: 12px;

    background-color: transparent;
    border-radius: v.$border-radius-md;
    @include typo.body-text;
    font-weight: v.$font-weight-medium;
    color: v.$text-main-light;
    transition: v.$transition-base;

    &:hover {
      background-color: rgba(v.$accent-light, 0.1);
    }

    body.dark-mode & {
      color: v.$text-main-dark;

      &:hover {
        background-color: rgba(v.$accent-dark, 0.1);
      }
    }

    span {
      font-size: v.$font-size-sm;
    }
  }

  &__theme-icons {
    @include mix.flex-center;
    width: 24px;
    height: 24px;
  }

  &__theme-icon {
    width: 20px;
    height: 20px;
    object-fit: contain;

    body.dark-mode & {
      filter: invert(1) brightness(2);
    }
  }
}

.menu-overlay {
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(2px);
  z-index: 90;
}